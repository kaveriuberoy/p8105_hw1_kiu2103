---
title: "p8105_hw1_kiu2103"
output: github_document
date: "2025-09-18"
author: "Kaveri Uberoy"
---
Loading information and libraries for problems 1 and 2. 

```{r}
library(moderndive)
library(tidyverse)
data("early_january_weather")
```

The variables in the `early_january_weather` dataset are: `r paste(names(early_january_weather), collapse = ", ")`.

The size of the `early_january_weather` dataset is `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns.

The mean temperature for the early January weather dataset is `r mean(early_january_weather[["temp"]], na.rm = TRUE)` Farenheit.

```{r}
library(ggplot2)

ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  labs(title = "Temperature vs Time (Colored by Humidity)",
       x = "Time (in hours) from January 1st morning to January 14th night",
       y = "Temperature (°F)",
       color = "Humidity") +
  theme_minimal()

ggsave("scatterplot_temperature_vs_time.png", width = 8, height = 6)
```

From January 1st to January 14th, temperatures rise in the day and drop at night. However, as January progresses, temperature rises overall through the day (higher temperatures in the mornings, afternoon, evenings, and night before January 7th compared to after January 7th). Humidity is higher after January 7th than before January 7th.  

Problem 2. Making a dataframe. 

```{r}
new_df = 
  tibble(
    random_samp = rnorm(10),
    logical_vector = rnorm(10) > 0,
    char_vector  = letters[1:10],
    factor_vector = factor(sample(c("low", "medium", "high"), 10, replace = TRUE), ordered = TRUE)
  )
```

Now, try to take the mean of each variable. 

```{r}
mean(pull(new_df, random_samp)) # Works, because it's numeric
mean(pull(new_df, logical_vector)) # Works, logical values become either 0 or 1, false of true (coerced)
mean(pull(new_df, char_vector)) # Will give an error, because characters don't automatically get converted to numeric 
mean(pull(new_df, factor_vector)) # Will give an error, because factors don't automatically get converted to numeric 
```

Taking the mean of each: 

- Numeric variable: This mean worked fine because it's already numeric.

- Logical variable: R treated true as 1 and false as 0 when calculating the mean, so it will return a valid result. The mean will be the proportion of true values.

- Character variable: Gets an error because characters are non-numeric and can't be averaged.

- Factor variable: This will result in an error as well, because factors are not automatically converted to numeric.

Now, let's try taking the mean again after trying to convert to numeric.

```{r}
# Logical to Numeric (0 = FALSE, 1 = TRUE)
mean(as.numeric(pull(new_df, logical_vector)))
# Character with as.numeric() returns NA for each element, does not work
mean(as.numeric(pull(new_df, char_vector)))  
# Factor with as.numeric() returns the corresponding value for each factor
mean(as.numeric(pull(new_df, factor_vector)))
```

What happened here:

Logical to Numeric: TRUE becomes 1, and FALSE becomes 0, so the conversion worked, and the mean is the proportion of true values.

Character to Numeric: Characters are non-numeric strings so as.numeric() returned NA for all the elements. The mean value therefore did not work here. 

Factor to Numeric: When converting a factor to numeric, R assigned integer values to each level (based on the factor levels' internal integer representation, and since I put them as ordered, low was 1, medium was 2, and high was 3). So the mean represents the proportion of the levels on a scale of 1-3.

Does this help explain what happens when you try to take the mean?

Yes: when I tried to take the mean of a logical vector, it worked because TRUE is treated as 1 and FALSE as 0, both of which are numeric. When I tried to take the mean of a character vector, it didn't work because R doesn't know how to convert character data to numbers, and so it can't compute a mean. As for the factor vector, when it was coerced to numeric, it was treated as the integers corresponding to each level. However, when factors are left as factors in the data frame, R doesn’t seem to automatically convert them to integers, so trying to take a mean led to an error initially. 
